<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script type="text/javascript">
        function loadScript(url, callback) {

            var script = document.createElement("script")
            script.type = "text/javascript";

            if (script.readyState) {  //IE
                script.onreadystatechange = function () {
                    if (script.readyState == "loaded" ||
                        script.readyState == "complete") {
                        script.onreadystatechange = null;
                        callback();
                    }
                };
            } else {  //Others
                script.onload = function () {
                    callback();
                };
            }

            script.src = url;
            document.getElementsByTagName("head")[0].appendChild(script);
        }
        loadScript("https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js", function () {
            $("#btnRegister").click(function () {
                (async function() {
                    const { inviteID } = await( await fetch(`/api/InviteUser`)).json();
                    //const { inviteResponse } = await fetch(`/api/InviteUser`);
                    document.getElementById('content').innerHTML = "Invitation sent with ID: " + inviteID;
                }())   
            });           
        });
    </script>
</head>
<body>
    <input type="button" id="btnRegister" value="Register" />
    <p>Registration ID: </p><p id="content">Nothing yet...</p>
</body>
</html>
